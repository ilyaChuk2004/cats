<template>
  <div id='lvlTeachPopup' class="popup">
    <div class="view">
      <div class="page">
        <div style="padding-left: 0px;" class="page-content">
          <div class="handler" id="lvlTeachHandler"></div>


          <div class="swiper-container">

            <div class="swiper-wrapper">

              <div class="swiper-slide">
                <div class="h" l='0'>–£ –≤–∞—Å –µ—Å—Ç—å —É—Ä–æ–≤–µ–Ω—å!</div>
                <div class="cont">
                  <s style="height: 9rem;" innerHTML=${lvl}></s>
                <p>–û–Ω –æ–±–æ–∑–Ω–∞—á–∞–µ—Ç—Å—è —Ç–∞–∫–æ–π –¥–∏–∞–≥—Ä–∞–º–º–æ–π.</p>
                <p>–¢–µ–ø–µ—Ä—å –æ–Ω¬†‚Äî¬†–≤–∞—à–∞ —Ü–µ–ª—å –≤ –∂–∏–∑–Ω–∏. –ü–æ–ª—É—á–∞—Ç—å <span class="cur">–æ—Ä</span>¬†‚Äî¬†–æ—á–∫–∏ —É—Ä–æ–≤–Ω—è, –≤—ã –º–æ–∂–µ—Ç–µ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ –¥–æ—Å—Ç–∏–≥–∞—è –Ω–æ—Ä–º—ã –ø–∏—Ç—å—è, –∑–∞–ø–∏—Å—ã–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ, –≤—ã–ø–æ–ª–Ω—è—è —Å–≤–æ–∏ –∑–∞–¥–∞—á–∏.</p>
                <p>–ö–æ–≥–¥–∞ –∫—Ä—É–∂–æ–∫ –∑–∞–ø–æ–ª–Ω–∏—Ç—Å—è¬†‚Äî¬†–ø–æ–ª—É—á–∏—Ç–µ –Ω–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å –∏¬†—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –ø–ª—é—à–∫–∏. –õ–∏—Å—Ç–∞–π—Ç–µ –≤–ª–µ–≤–æ üëà</p>
                </div>


              </div>
              <div class="swiper-slide">
                <div class="h" l='1'>1 —É—Ä–æ–≤–µ–Ω—å</div>
                
                <div class="cont">
                  <s innerHTML=${lvl1}></s>
                <p>–ó–∞ —É—Ä–æ–≤–Ω–∏ –≤—ã¬†–ø–æ–ª—É—á–∞–µ—Ç–µ –∞–≤–∞—Ç–∞—Ä–∫–∏. –í—ã–±—Ä–∞—Ç—å –º–æ–∂–Ω–æ –≤ <a href="/popup-content/">–Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö</a>.</p>
                <p>–°¬†—Å–∞–º–æ–≥–æ –Ω–∞—á–∞–ª–∞ —Å¬†–≤–∞–º–∏ –ë–æ–±, –ì—Ä–∏–±–æ—á–µ–∫ –∏¬†–ê—Ä–±—É–∑.</p>
                </div>
              </div>
              <div class="swiper-slide">
                <div class="h" l='2'>2 —É—Ä–æ–≤–µ–Ω—å</div>
                <div class="cont">
                  <s innerHTML=${lvl2}></s>
                <p>–í—ã—Ä–∞–∑–∏—Ç–µ –≤—Å—é —Å–≤–æ—é –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ—Å—Ç—å, –¥–æ–±–∞–≤–∏–≤ –≤ –±—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –Ω–æ–≤—ã–µ —Å–º–∞–π–ª–∏–∫–∏!</p>
                <p>–ü—Ä–æ—Å—Ç–æ –ª–∏—Å—Ç–∞–π—Ç–µ —Å–≤–æ–∏ —ç–º–æ—Ü–∏–∏ –∏ –≤—ã–±–∏—Ä–∞–π—Ç–µ —Ç–æ, —á—Ç–æ —á—É–≤—Å—Ç–≤—É–µ—Ç–µ.</p>
                </div>
                
              </div>
              <div class="swiper-slide">
                <div class="h" l='3'>3 —É—Ä–æ–≤–µ–Ω—å</div>
                <div style="margin-top:2rem" class="cont">
                  <s innerHTML=${lvl3}></s>
                <p>–ï—â—ë –±–æ–ª—å—à–µ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–∏!</p>
                <p>–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –ª—é–±–∏–º—ã–π —Ü–≤–µ—Ç, –∏ –≤—Å—ë –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ–∫—Ä–∞—Å–∏—Ç—Å—è –≤ –Ω–µ–≥–æ.</p>
                <p>–í ¬´–Ω–∞—Å—Ç—Ä–æ–π–∫–∏¬ª¬†‚Üí¬†¬´–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ¬ª –µ—Å—Ç—å –µ—â—ë –ø–∞—Ä–∞ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã—Ö –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–µ–π.</p>
                </div>
                
              </div>
              <div class="swiper-slide">
                <div class="h" l='4'>4 —É—Ä–æ–≤–µ–Ω—å</div>
                <div class="cont">
                  <s innerHTML=${lvl4}></s>
                <p>–£ –≤–∞—Å –Ω–æ–≤—ã–µ –¥—Ä—É–∑—å—è: –ü–µ—Ä—á–∏–∫, –ü–æ–ø–∫–æ—Ä–Ω –∏ –ª–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π –û—Ä–µ—Ö—É—Å.</p>
                <p>–í—ã–±–µ—Ä–∏—Ç–µ —Ñ—Ä—É–∫—Ç–æ–æ–≤–æ—â, –æ–ª–∏—Ü–µ—Ç–≤–æ—Ä—è—é—â–∏–π –≤–∞—Å</p>
                </div>
                
              </div>
              <div class="swiper-slide">
                <div class="h" l='5'>5 —É—Ä–æ–≤–µ–Ω—å</div>
                <div style="margin-top:2rem" class="cont">
                  <s innerHTML=${lvl5}></s>
                <p>–ü–æ–ª—É—á–∏—Ç–µ –µ—â—ë –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–¥—Å—Ç—Ä–æ–∏—Ç—å –≤—Å—ë –ø–æ–¥ —Å–µ–±—è.</p>
                <p>–í—ã –º–æ–∂–µ—Ç–µ –æ—Ç—Ä–µ–≥—É–ª–∏—Ä–æ–≤–∞—Ç—å –æ–±—ä—ë–º –∫–∞–∂–¥–æ–π –∏–∑ —Ç—Ä—ë—Ö –∫—Ä—É–∂–µ–∫, —á—Ç–æ–±—ã –æ–Ω–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞–ª–∏ –≤–∞—à–∏–º —Ä–µ–∞–ª—å–Ω—ã–º.</p>
                </div>
                
              </div>
              <div class="swiper-slide">
                <div class="h" l='7'>7 —É—Ä–æ–≤–µ–Ω—å</div>
                <div style="margin-top:2rem" class="cont">
                  <s innerHTML=${lvl7}></s>
                <p>–ö–æ–∫–æ—Å, —Ä–µ–¥–∏—Å –∏ –Ø–∏—á–∫–æ –ø—Ä–∏—Ö–æ–¥—è—Ç –∫ –≤–∞–º –Ω–∞ —Å–µ–¥—å–º–æ–º —É—Ä–æ–≤–Ω–µ.</p>
                </div>
                
              </div>
              <div class="swiper-slide">
                <div class="h" l='9'>9 —É—Ä–æ–≤–µ–Ω—å</div>
                <div style="margin-top:2rem" class="cont">
                  <s innerHTML=${lvl9}></s>
                <${lvl9text}/>
                </div>
                
              </div>


            </div>

            <div class="swiper-pagination"></div>
          </div>

        </div>
      </div>
    </div>
  </div>

</template>

<script>
  import './lvlTeach.css'
  import lvl from '../static/img/teach/lvl/gauge.svg'
  import lvl1 from '../static/img/teach/lvl/lvl1.svg'
  import lvl2 from '../static/img/teach/lvl/lvl2.svg'
  import lvl3 from '../static/img/teach/lvl/lvl3.svg'
  import lvl4 from '../static/img/teach/lvl/lvl4.svg'
  import lvl5 from '../static/img/teach/lvl/lvl5.svg'
  import lvl7 from '../static/img/teach/lvl/lvl7.svg'
  import lvl9 from '../static/img/teach/lvl/lvl9.svg'
  export default (props, { $store, $f7, $update, $el, $, $onMounted }) => {
    var swiper


    const lvl9text = (props, {$h}) => {
     

      if ($store.state.userData.lvl<9) {
        return () => (
          <p>–ù–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–º –¥–µ–≤—è—Ç–æ–º —É—Ä–æ–≤–Ω–µ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ —Å–∞–º—ã–µ –ª—É—á—à–∏–µ –∞–≤–∞—Ç–∞—Ä–∫–∏¬†‚Äî¬†–¥–≤–∞ –∫–æ—Ç–∏–∫–∞ –∏ –Ω–∞—Å—Ç–æ—è—â–∞—è –∫–æ—à–∫–∞&#x2060;‚Äì&#x2060;–∂–µ–Ω–∞.</p>
        )
      }else{
        return () => (
          <div style='display:contents'>
            <p>–í—ã –¥–æ—à–ª–∏ –¥–æ –¥–µ–≤—è—Ç–æ–≥–æ —É—Ä–æ–≤–Ω—è! –ü–æ–∑–¥—Ä–∞–≤–ª—è—é!</p>
            <p>–Ø –±–ª–∞–≥–æ–¥–∞—Ä–µ–Ω –≤–∞–º, –ª–∏—á–Ω–æ —Ç–µ–±–µ, –∑–∞ —Ç–æ —á—Ç–æ –ø–æ–ª—å–∑—É–µ—à—å—Å—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º. 
              –ï—Å–ª–∏ —Ç—ã –¥–æ—à—ë–ª –¥–æ —Å—é–¥–∞, –∑–Ω–∞—á–∏—Ç –æ–Ω–æ —Ç–µ–±–µ –Ω—Ä–∞–≤–∏—Ç—Å—è, –∏ —è –æ—á–µ–Ω—å –∏–∑-–∑–∞ —ç—Ç–æ–≥–æ —Ä–∞–¥.</p>
              
          <p>–ü—Ä–∏–π–º–∏ –∫–∞–∫ –Ω–∞–≥—Ä–∞–¥—É —Å–∞–º—ã–µ –ª—É—á—à–∏–µ –∞–≤–∞—Ç–∞—Ä–∫–∏¬†‚Äî¬†–¥–≤–∞ –∫–æ—Ç–∏–∫–∞ –∏ –Ω–∞—Å—Ç–æ—è—â–∞—è –∫–æ—à–∫–∞&#x2060;‚Äì&#x2060;–∂–µ–Ω–∞.</p>
          <p>–°–ø–∞—Å–∏–±–æ, —á—Ç–æ –¥–æ–ª–∏—Å—Ç–∞–ª –¥–æ —Å—é–¥–∞.</p>
          </div>
        )
      }
}
    $onMounted(() => {

      
      if ($store.state.userData.teach.lvl!==true) {
        $store.state.userData.teach.lvl=true
        $f7.emit('e-backp')
      }

      for (let index = 0; index < $el.value[0].querySelectorAll('.h').length; index++) {
        const el = $el.value[0].querySelectorAll('.h')[index];
        if (+el.getAttribute('l')<=$store.state.userData.lvl) {
          $(el.parentElement).addClass('got')
        }
        
      }

      setTimeout(() => {
        swiper = app.swiper.create($el.value[0].querySelector('.swiper-container'), {
          speed: 400,
          spaceBetween: 10,
          resistanceRatio: 0.8,
          autoHeight:true,

          effect: 'slide',
          touchRatio: 0.7,
          longSwipesRatio: 0.4,
          grabCursor: true,
          observer: true,
          mousewheel: false,
          pagination: {
            el: '.swiper-pagination',
            type: 'bullets',
            clickable:true
          },
          on:{
            init:(e)=>{
              setTimeout(() => {
                for (let index = 0; index < e.pagination.bullets.length; index++) {
                  if (+(e.slides[index].firstChild.getAttribute('l'))<=$store.state.userData.lvl) {
                    $(e.pagination.bullets[index]).addClass('got')
                  }
                  
                  
                }
              }, 10);
            }
          }
        });
      }, 50);

      
    })
    return $render;
  }
</script>